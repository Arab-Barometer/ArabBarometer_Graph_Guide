<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 3 Comparative Overall Graphs | ArabBarometR Graphing Guide</title>
  <meta name="description" content="Chapter 3 Comparative Overall Graphs | ArabBarometR Graphing Guide" />
  <meta name="generator" content="bookdown 0.24 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 3 Comparative Overall Graphs | ArabBarometR Graphing Guide" />
  <meta property="og:type" content="book" />
  
  
  
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 3 Comparative Overall Graphs | ArabBarometR Graphing Guide" />
  
  
  

<meta name="author" content="MaryClare Roche" />


<meta name="date" content="2022-04-07" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="single-country-demographic-plots.html"/>
<link rel="next" href="coming-soon-comparative-demographic-graphs.html"/>
<script src="libs/header-attrs-2.11/header-attrs.js"></script>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.0.1/anchor-sections.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.0.1/anchor-sections.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">GraphGuide</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Introduction</a>
<ul>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#purpose"><i class="fa fa-check"></i>Purpose</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#general-guide-process"><i class="fa fa-check"></i>General Guide Process</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#example-data"><i class="fa fa-check"></i>Example Data</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#header-code"><i class="fa fa-check"></i>Header Code</a></li>
</ul></li>
<li class="part"><span><b>I Cross Tabulation Graphs</b></span></li>
<li class="chapter" data-level="1" data-path="single-country-overall-graphs.html"><a href="single-country-overall-graphs.html"><i class="fa fa-check"></i><b>1</b> Single Country Overall Graphs</a>
<ul>
<li class="chapter" data-level="1.1" data-path="single-country-overall-graphs.html"><a href="single-country-overall-graphs.html#create-a-single-graph"><i class="fa fa-check"></i><b>1.1</b> Create a Single Graph</a>
<ul>
<li class="chapter" data-level="1.1.1" data-path="single-country-overall-graphs.html"><a href="single-country-overall-graphs.html#create-a-summary"><i class="fa fa-check"></i><b>1.1.1</b> Create a Summary</a></li>
<li class="chapter" data-level="1.1.2" data-path="single-country-overall-graphs.html"><a href="single-country-overall-graphs.html#plot-the-summary"><i class="fa fa-check"></i><b>1.1.2</b> Plot the Summary</a></li>
</ul></li>
<li class="chapter" data-level="1.2" data-path="single-country-overall-graphs.html"><a href="single-country-overall-graphs.html#create-many-graphs"><i class="fa fa-check"></i><b>1.2</b> Create Many Graphs</a>
<ul>
<li class="chapter" data-level="1.2.1" data-path="single-country-overall-graphs.html"><a href="single-country-overall-graphs.html#identify-the-variables"><i class="fa fa-check"></i><b>1.2.1</b> Identify the Variables</a></li>
<li class="chapter" data-level="1.2.2" data-path="single-country-overall-graphs.html"><a href="single-country-overall-graphs.html#create-summaries"><i class="fa fa-check"></i><b>1.2.2</b> Create Summaries</a></li>
<li class="chapter" data-level="1.2.3" data-path="single-country-overall-graphs.html"><a href="single-country-overall-graphs.html#plot-the-summaries"><i class="fa fa-check"></i><b>1.2.3</b> Plot the Summaries</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="2" data-path="single-country-demographic-plots.html"><a href="single-country-demographic-plots.html"><i class="fa fa-check"></i><b>2</b> Single Country Demographic Plots</a>
<ul>
<li class="chapter" data-level="2.1" data-path="single-country-demographic-plots.html"><a href="single-country-demographic-plots.html#create-a-single-graph-1"><i class="fa fa-check"></i><b>2.1</b> Create a Single Graph</a>
<ul>
<li class="chapter" data-level="2.1.1" data-path="single-country-demographic-plots.html"><a href="single-country-demographic-plots.html#creating-a-summary"><i class="fa fa-check"></i><b>2.1.1</b> Creating a Summary</a></li>
<li class="chapter" data-level="2.1.2" data-path="single-country-demographic-plots.html"><a href="single-country-demographic-plots.html#plotting-the-summary"><i class="fa fa-check"></i><b>2.1.2</b> Plotting the Summary</a></li>
</ul></li>
<li class="chapter" data-level="2.2" data-path="single-country-demographic-plots.html"><a href="single-country-demographic-plots.html#create-many-graphs-1"><i class="fa fa-check"></i><b>2.2</b> Create Many Graphs</a>
<ul>
<li class="chapter" data-level="2.2.1" data-path="single-country-demographic-plots.html"><a href="single-country-demographic-plots.html#create-summaries-1"><i class="fa fa-check"></i><b>2.2.1</b> Create Summaries</a></li>
<li class="chapter" data-level="2.2.2" data-path="single-country-demographic-plots.html"><a href="single-country-demographic-plots.html#plot-the-summaries-1"><i class="fa fa-check"></i><b>2.2.2</b> Plot the Summaries</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="3" data-path="comparative-overall-graphs.html"><a href="comparative-overall-graphs.html"><i class="fa fa-check"></i><b>3</b> Comparative Overall Graphs</a>
<ul>
<li class="chapter" data-level="3.1" data-path="comparative-overall-graphs.html"><a href="comparative-overall-graphs.html#create-a-single-graph-2"><i class="fa fa-check"></i><b>3.1</b> Create a Single Graph</a>
<ul>
<li class="chapter" data-level="3.1.1" data-path="comparative-overall-graphs.html"><a href="comparative-overall-graphs.html#create-a-summary-1"><i class="fa fa-check"></i><b>3.1.1</b> Create a Summary</a></li>
<li class="chapter" data-level="3.1.2" data-path="comparative-overall-graphs.html"><a href="comparative-overall-graphs.html#plot-the-summary-1"><i class="fa fa-check"></i><b>3.1.2</b> Plot the Summary</a></li>
</ul></li>
<li class="chapter" data-level="3.2" data-path="comparative-overall-graphs.html"><a href="comparative-overall-graphs.html#create-many-graphs-2"><i class="fa fa-check"></i><b>3.2</b> Create Many Graphs</a>
<ul>
<li class="chapter" data-level="3.2.1" data-path="comparative-overall-graphs.html"><a href="comparative-overall-graphs.html#identify-the-variables-1"><i class="fa fa-check"></i><b>3.2.1</b> Identify the Variables</a></li>
<li class="chapter" data-level="3.2.2" data-path="comparative-overall-graphs.html"><a href="comparative-overall-graphs.html#create-summaries-2"><i class="fa fa-check"></i><b>3.2.2</b> Create Summaries</a></li>
<li class="chapter" data-level="3.2.3" data-path="comparative-overall-graphs.html"><a href="comparative-overall-graphs.html#plot-the-summaries-2"><i class="fa fa-check"></i><b>3.2.3</b> Plot the Summaries</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="4" data-path="coming-soon-comparative-demographic-graphs.html"><a href="coming-soon-comparative-demographic-graphs.html"><i class="fa fa-check"></i><b>4</b> Coming Soon: Comparative Demographic Graphs</a>
<ul>
<li class="chapter" data-level="4.1" data-path="coming-soon-comparative-demographic-graphs.html"><a href="coming-soon-comparative-demographic-graphs.html#create-a-single-graph-3"><i class="fa fa-check"></i><b>4.1</b> Create a Single Graph</a></li>
</ul></li>
<li class="part"><span><b>II How do I …?</b></span></li>
<li class="chapter" data-level="5" data-path="change-the-font-size.html"><a href="change-the-font-size.html"><i class="fa fa-check"></i><b>5</b> Change the Font Size</a></li>
<li class="chapter" data-level="6" data-path="change-the-titlesubtitlecaption.html"><a href="change-the-titlesubtitlecaption.html"><i class="fa fa-check"></i><b>6</b> Change the Title/Subtitle/Caption</a></li>
<li class="chapter" data-level="7" data-path="play-with-colors.html"><a href="play-with-colors.html"><i class="fa fa-check"></i><b>7</b> Play with Colors</a>
<ul>
<li class="chapter" data-level="7.1" data-path="play-with-colors.html"><a href="play-with-colors.html#change-colors-for-frequency-graphs"><i class="fa fa-check"></i><b>7.1</b> Change Colors for Frequency Graphs</a></li>
<li class="chapter" data-level="7.2" data-path="play-with-colors.html"><a href="play-with-colors.html#available-colors"><i class="fa fa-check"></i><b>7.2</b> Available Colors</a></li>
<li class="chapter" data-level="7.3" data-path="play-with-colors.html"><a href="play-with-colors.html#change-color-palette"><i class="fa fa-check"></i><b>7.3</b> Change Color Palette</a></li>
<li class="chapter" data-level="7.4" data-path="play-with-colors.html"><a href="play-with-colors.html#available-palettes"><i class="fa fa-check"></i><b>7.4</b> Available Palettes</a></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">ArabBarometR Graphing Guide</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="comparative-overall-graphs" class="section level1" number="3">
<h1><span class="header-section-number">Chapter 3</span> Comparative Overall Graphs</h1>
<p>This chapter will cover how to make a comparative frequency graph for multiple countries.</p>
<div id="create-a-single-graph-2" class="section level2" number="3.1">
<h2><span class="header-section-number">3.1</span> Create a Single Graph</h2>
<p>This section will go over how to make a one-off comparative frequency graph for a multiple countries.</p>
<p>At the end, your code will look like the following:</p>
<div class="sourceCode" id="cb66"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb66-1"><a href="comparative-overall-graphs.html#cb66-1" aria-hidden="true" tabindex="-1"></a>survey1 <span class="sc">%&gt;%</span></span>
<span id="cb66-2"><a href="comparative-overall-graphs.html#cb66-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">calculate_smry_comp</span>(<span class="st">&quot;Q1COVID19&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb66-3"><a href="comparative-overall-graphs.html#cb66-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">plot_smry_comp</span>(<span class="at">.caption =</span> <span class="st">&quot;Arab Barometer Wave VI, Survey I&quot;</span>)</span></code></pre></div>
<p>That code will produce the following graph:</p>
<p><img src="bookdownproj_files/figure-html/03.2-Complete-Graph-Example-1.png" width="1248" /></p>
<div id="create-a-summary-1" class="section level3" number="3.1.1">
<h3><span class="header-section-number">3.1.1</span> Create a Summary</h3>
<p>The process of creating an overall comparative graph is intentionally similar to creating a overall individual graph. As always, the first step is to organize the data we want to graph. For this we use the function <strong>calculate_smry_comp()</strong>, which is the comparative version of the individual summary function. The function requires only two parameters: (1) the data you are using, and (2) the variable you want to summarize. There are several other optional parameters. To see all the input parameters for the function, type the code <code>?calculate_smry_comp</code> in your R console.</p>
<p>For the example in this section, we are using the data set <code>survey1</code> and summarizing the variable <code>Q1COVID19</code>.</p>
<div class="sourceCode" id="cb67"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb67-1"><a href="comparative-overall-graphs.html#cb67-1" aria-hidden="true" tabindex="-1"></a><span class="fu">calculate_smry_comp</span>(</span>
<span id="cb67-2"><a href="comparative-overall-graphs.html#cb67-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">.data =</span> survey1,          <span class="co"># The data you are using</span></span>
<span id="cb67-3"><a href="comparative-overall-graphs.html#cb67-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">.var =</span> <span class="st">&quot;Q1COVID19&quot;</span>       <span class="co"># The variable you want to plot</span></span>
<span id="cb67-4"><a href="comparative-overall-graphs.html#cb67-4" aria-hidden="true" tabindex="-1"></a>)</span></code></pre></div>
<p>Recall the above code is the same as typing:</p>
<div class="sourceCode" id="cb68"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb68-1"><a href="comparative-overall-graphs.html#cb68-1" aria-hidden="true" tabindex="-1"></a>survey1 <span class="sc">%&gt;%</span></span>
<span id="cb68-2"><a href="comparative-overall-graphs.html#cb68-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">calculate_smry_comp</span>(<span class="st">&quot;Q1COVID19&quot;</span>)</span></code></pre></div>
<p>Let’s take a look at the output:</p>
<pre><code>## # A tibble: 6 x 2
##   Country    Q1COVID19
##   &lt;labelled&gt;     &lt;dbl&gt;
## 1 Algeria           72
## 2 Jordan            61
## 3 Lebanon           82
## 4 Libya             75
## 5 Morocco           65
## 6 Tunisia           59</code></pre>
<p>A few things to notice about the output of this function:</p>
<ol style="list-style-type: decimal">
<li>The first column is called <code>Country</code>. This will always be the case. The plot function used for comparative summaries will expect this.</li>
<li>The second column is named after the question being summarized. This will always be the case. The plot function used for comparative summaries will expect this. The title of the graph will depend on the name of this column.</li>
</ol>
<p>If you wish to provide the plot function your own summary, it will have to follow these conventions.</p>
<p>Now we’ll store the summary as an object <code>comparative_summary</code> and move on to plotting it.</p>
<div class="sourceCode" id="cb70"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb70-1"><a href="comparative-overall-graphs.html#cb70-1" aria-hidden="true" tabindex="-1"></a>comparative_summary <span class="ot">&lt;-</span> survey1 <span class="sc">%&gt;%</span></span>
<span id="cb70-2"><a href="comparative-overall-graphs.html#cb70-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">calculate_smry_comp</span>(<span class="st">&quot;Q1COVID19&quot;</span>)</span></code></pre></div>
</div>
<div id="plot-the-summary-1" class="section level3" number="3.1.2">
<h3><span class="header-section-number">3.1.2</span> Plot the Summary</h3>
<p>The next step is plot the summary we just created. To do this, we use the function <strong>plot_smry_comp()</strong>. You can learn more about this function in section <a href="https://arab-barometer.github.io/ArabBarometR-Guide/standard-plots.html#plot_smry_comp">7.3</a> of the ArabBarometR Guide.</p>
<p>There is only <em>one</em> necessary parameter to use <strong>plot_smry_comp()</strong>: the summary data frame. For a complete list of acceptable parameters and documentation, you can run <code>?plot_smry_comp</code> in your R console.</p>
<p>Now, we can plug our summary into the plot function:</p>
<div class="sourceCode" id="cb71"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb71-1"><a href="comparative-overall-graphs.html#cb71-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plot_smry_comp</span>(</span>
<span id="cb71-2"><a href="comparative-overall-graphs.html#cb71-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">.df =</span> comparative_summary  <span class="co"># The summary data frame</span></span>
<span id="cb71-3"><a href="comparative-overall-graphs.html#cb71-3" aria-hidden="true" tabindex="-1"></a>)</span></code></pre></div>
<p>The above code is the same as:</p>
<div class="sourceCode" id="cb72"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb72-1"><a href="comparative-overall-graphs.html#cb72-1" aria-hidden="true" tabindex="-1"></a>comparative_summary <span class="sc">%&gt;%</span></span>
<span id="cb72-2"><a href="comparative-overall-graphs.html#cb72-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">plot_smry_comp</span>()</span></code></pre></div>
<p>Which is the SAME as:</p>
<div class="sourceCode" id="cb73"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb73-1"><a href="comparative-overall-graphs.html#cb73-1" aria-hidden="true" tabindex="-1"></a>survey1 <span class="sc">%&gt;%</span></span>
<span id="cb73-2"><a href="comparative-overall-graphs.html#cb73-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">calculate_smry_comp</span>(<span class="st">&quot;Q1COVID19&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb73-3"><a href="comparative-overall-graphs.html#cb73-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">plot_smry_comp</span>()</span></code></pre></div>
<p>We can do this because <code>comparative_summary</code> is equal to <code>survey1 %&gt;% calculate_smry_comp("Q1COVID19")</code>.</p>
<p>Any of the above code gives the following graph:</p>
<p><img src="bookdownproj_files/figure-html/03.11-plot-1.png" width="1248" /></p>
<p>Almost done! Notice how the caption says <strong>Arab Barometer Wave N (DATE)</strong>? Let’s change that.</p>
<div class="sourceCode" id="cb74"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb74-1"><a href="comparative-overall-graphs.html#cb74-1" aria-hidden="true" tabindex="-1"></a>survey1 <span class="sc">%&gt;%</span></span>
<span id="cb74-2"><a href="comparative-overall-graphs.html#cb74-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">calculate_smry_comp</span>(<span class="st">&quot;Q1COVID19&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb74-3"><a href="comparative-overall-graphs.html#cb74-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">plot_smry_comp</span>(</span>
<span id="cb74-4"><a href="comparative-overall-graphs.html#cb74-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">.caption =</span> <span class="st">&quot;Arab Barometer Wave VI, Survey I&quot;</span>  <span class="co"># NEW caption</span></span>
<span id="cb74-5"><a href="comparative-overall-graphs.html#cb74-5" aria-hidden="true" tabindex="-1"></a>  )</span></code></pre></div>
<p>Now we have the plot we started with! We’re done!</p>
<p><img src="bookdownproj_files/figure-html/03.13-plot-1.png" width="1248" /></p>
</div>
</div>
<div id="create-many-graphs-2" class="section level2" number="3.2">
<h2><span class="header-section-number">3.2</span> Create Many Graphs</h2>
<p>As a rule of thumb in programming, if you can create something one time, you can create it a bajillion times. This is good because for each wave, Arab Barometer needs approximately a bajillion graphs.</p>
<p>To create many graphs at once, there are three steps to follow.</p>
<ol style="list-style-type: decimal">
<li>First, identify the variables to plot.</li>
<li>Second, create summaries of those variables.</li>
<li>Third, plot those summaries.</li>
</ol>
<p>At the end of this section, your code will look like the following:</p>
<div class="sourceCode" id="cb75"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb75-1"><a href="comparative-overall-graphs.html#cb75-1" aria-hidden="true" tabindex="-1"></a>     <span class="co">#.....................Identify the variables.....................</span></span>
<span id="cb75-2"><a href="comparative-overall-graphs.html#cb75-2" aria-hidden="true" tabindex="-1"></a>variables_2_plot <span class="ot">&lt;-</span> <span class="fu">list</span>(<span class="st">&quot;Q1COVID19&quot;</span>,</span>
<span id="cb75-3"><a href="comparative-overall-graphs.html#cb75-3" aria-hidden="true" tabindex="-1"></a>                         <span class="st">&quot;Q2061A&quot;</span>,</span>
<span id="cb75-4"><a href="comparative-overall-graphs.html#cb75-4" aria-hidden="true" tabindex="-1"></a>                         <span class="st">&quot;Q609&quot;</span>)</span>
<span id="cb75-5"><a href="comparative-overall-graphs.html#cb75-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb75-6"><a href="comparative-overall-graphs.html#cb75-6" aria-hidden="true" tabindex="-1"></a><span class="fu">names</span>(variables_2_plot) <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;Q1COVID19&quot;</span>,</span>
<span id="cb75-7"><a href="comparative-overall-graphs.html#cb75-7" aria-hidden="true" tabindex="-1"></a>                             <span class="st">&quot;Q2061A&quot;</span>,</span>
<span id="cb75-8"><a href="comparative-overall-graphs.html#cb75-8" aria-hidden="true" tabindex="-1"></a>                             <span class="st">&quot;Q609&quot;</span>)</span>
<span id="cb75-9"><a href="comparative-overall-graphs.html#cb75-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb75-10"><a href="comparative-overall-graphs.html#cb75-10" aria-hidden="true" tabindex="-1"></a>     <span class="co">#......................Create the summaries......................</span></span>
<span id="cb75-11"><a href="comparative-overall-graphs.html#cb75-11" aria-hidden="true" tabindex="-1"></a>summaries <span class="ot">&lt;-</span> survey1 <span class="sc">%&gt;%</span></span>
<span id="cb75-12"><a href="comparative-overall-graphs.html#cb75-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">calculate_smry_comp</span>(variables_2_plot) </span>
<span id="cb75-13"><a href="comparative-overall-graphs.html#cb75-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb75-14"><a href="comparative-overall-graphs.html#cb75-14" aria-hidden="true" tabindex="-1"></a>     <span class="co">#.......................Plot the summaries.......................</span></span>
<span id="cb75-15"><a href="comparative-overall-graphs.html#cb75-15" aria-hidden="true" tabindex="-1"></a>plots <span class="ot">&lt;-</span> <span class="fu">map</span>(summaries,</span>
<span id="cb75-16"><a href="comparative-overall-graphs.html#cb75-16" aria-hidden="true" tabindex="-1"></a>             plot_smry_comp,</span>
<span id="cb75-17"><a href="comparative-overall-graphs.html#cb75-17" aria-hidden="true" tabindex="-1"></a>             <span class="at">.caption =</span> <span class="st">&quot;Arab Barometer Wave VI, Survey I&quot;</span>)</span></code></pre></div>
<p>The result is a named list of plots. Each element in the list is a plot. The element is named for the variable it is a plot of.</p>
<p>For example, to see the plot for variable <code>Q1COVID19</code>, run the following code:</p>
<div class="sourceCode" id="cb76"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb76-1"><a href="comparative-overall-graphs.html#cb76-1" aria-hidden="true" tabindex="-1"></a>comparative_plots<span class="sc">$</span>Q1COVID19</span></code></pre></div>
<p><img src="bookdownproj_files/figure-html/03.15-Complete-Code-Example-Results1-1.png" width="1248" /></p>
<p>To see the plot for variable <code>Q2061A</code>, run the following code:</p>
<div class="sourceCode" id="cb77"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb77-1"><a href="comparative-overall-graphs.html#cb77-1" aria-hidden="true" tabindex="-1"></a>comparative_plots<span class="sc">$</span>Q2061A</span></code></pre></div>
<p><img src="bookdownproj_files/figure-html/03.16-Complete-Code-Example-Results2-1.png" width="1248" /></p>
<p>Finally, to see the plot for variable <code>Q609</code>, run the following code:</p>
<div class="sourceCode" id="cb78"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb78-1"><a href="comparative-overall-graphs.html#cb78-1" aria-hidden="true" tabindex="-1"></a>comparative_plots<span class="sc">$</span>Q609</span></code></pre></div>
<p><img src="bookdownproj_files/figure-html/03.17-Complete-Code-Example-Results3-1.png" width="1248" /></p>
<p>That’s it! The only limit on the number of graphs you can create at once is the time it will take R to make them. The more graphs you try to create at once, the longer it will take.</p>
<p>Let’s begin.</p>
<div id="identify-the-variables-1" class="section level3" number="3.2.1">
<h3><span class="header-section-number">3.2.1</span> Identify the Variables</h3>
<p>When creating many graphs, you need to tell R which variables you want to make plots of. This is true for when you want to create a single graph as well, but it is much more strongly implied. Plus, the variables must be identified in a specific way.</p>
<p>To create many summaries at once, you need to provide your variables in a named list. To create a named list, first make a list of the variables you want to plot.</p>
<div class="sourceCode" id="cb79"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb79-1"><a href="comparative-overall-graphs.html#cb79-1" aria-hidden="true" tabindex="-1"></a>variables_2_plot <span class="ot">&lt;-</span> <span class="fu">list</span>(<span class="st">&quot;Q1COVID19&quot;</span>,</span>
<span id="cb79-2"><a href="comparative-overall-graphs.html#cb79-2" aria-hidden="true" tabindex="-1"></a>                         <span class="st">&quot;Q2061A&quot;</span>,</span>
<span id="cb79-3"><a href="comparative-overall-graphs.html#cb79-3" aria-hidden="true" tabindex="-1"></a>                         <span class="st">&quot;Q609&quot;</span>)</span></code></pre></div>
<p>The next step is to name your list.</p>
<div class="sourceCode" id="cb80"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb80-1"><a href="comparative-overall-graphs.html#cb80-1" aria-hidden="true" tabindex="-1"></a><span class="fu">names</span>(variables_2_plot) <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;Q1COVID19&quot;</span>,</span>
<span id="cb80-2"><a href="comparative-overall-graphs.html#cb80-2" aria-hidden="true" tabindex="-1"></a>                             <span class="st">&quot;Q2061A&quot;</span>,</span>
<span id="cb80-3"><a href="comparative-overall-graphs.html#cb80-3" aria-hidden="true" tabindex="-1"></a>                             <span class="st">&quot;Q609&quot;</span>)</span></code></pre></div>
<p>Now, you have a named list of variables. Time to summarize them.</p>
</div>
<div id="create-summaries-2" class="section level3" number="3.2.2">
<h3><span class="header-section-number">3.2.2</span> Create Summaries</h3>
<p>The same function used to create a single summary is used to create many summaries: <strong>calculate_smry_comp()</strong>. Recall it takes three parameters: (1) the data you are using, and (2) the variable(s) you want to plot. Now, instead of one variable, you supply the list of variables.</p>
<div class="sourceCode" id="cb81"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb81-1"><a href="comparative-overall-graphs.html#cb81-1" aria-hidden="true" tabindex="-1"></a><span class="fu">calculate_smry_comp</span>(</span>
<span id="cb81-2"><a href="comparative-overall-graphs.html#cb81-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">.data =</span> survey1,               <span class="co"># The data you are using</span></span>
<span id="cb81-3"><a href="comparative-overall-graphs.html#cb81-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">.var =</span> variables_2_plot        <span class="co"># The variables you want to plot</span></span>
<span id="cb81-4"><a href="comparative-overall-graphs.html#cb81-4" aria-hidden="true" tabindex="-1"></a>)</span></code></pre></div>
<p>The above is the same as:</p>
<div class="sourceCode" id="cb82"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb82-1"><a href="comparative-overall-graphs.html#cb82-1" aria-hidden="true" tabindex="-1"></a><span class="fu">calculate_smry_comp</span>(survey1,variables_2_plot)</span></code></pre></div>
<p>Which is the same as:</p>
<div class="sourceCode" id="cb83"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb83-1"><a href="comparative-overall-graphs.html#cb83-1" aria-hidden="true" tabindex="-1"></a>survey1 <span class="sc">%&gt;%</span></span>
<span id="cb83-2"><a href="comparative-overall-graphs.html#cb83-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">calculate_smry_comp</span>(variables_2_plot)</span></code></pre></div>
<p>All of the above code in this section produces the same result: a named list. Each element in the list is a summary of a variable. The variable is the name of the list. In long form, it looks like the following:</p>
<pre><code>## $Q1COVID19
## # A tibble: 6 x 2
##   Country    Q1COVID19
##   &lt;labelled&gt;     &lt;dbl&gt;
## 1 Algeria           72
## 2 Jordan            61
## 3 Lebanon           82
## 4 Libya             75
## 5 Morocco           65
## 6 Tunisia           59
## 
## $Q2061A
## # A tibble: 6 x 2
##   Country    Q2061A
##   &lt;labelled&gt;  &lt;dbl&gt;
## 1 Algeria        28
## 2 Jordan         41
## 3 Lebanon        64
## 4 Libya          19
## 5 Morocco        37
## 6 Tunisia        51
## 
## $Q609
## # A tibble: 6 x 2
##   Country     Q609
##   &lt;labelled&gt; &lt;dbl&gt;
## 1 Algeria       48
## 2 Jordan        37
## 3 Lebanon       30
## 4 Libya         26
## 5 Morocco       62
## 6 Tunisia       31</code></pre>
<p>Let’s save this outcome as an object and move on to plotting. We will save the list of comparative summaries as an object called <code>comparative_summaries</code>.</p>
<div class="sourceCode" id="cb85"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb85-1"><a href="comparative-overall-graphs.html#cb85-1" aria-hidden="true" tabindex="-1"></a>comparative_summaries <span class="ot">&lt;-</span> survey1 <span class="sc">%&gt;%</span></span>
<span id="cb85-2"><a href="comparative-overall-graphs.html#cb85-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">calculate_smry_comp</span>(variables_2_plot)</span></code></pre></div>
</div>
<div id="plot-the-summaries-2" class="section level3" number="3.2.3">
<h3><span class="header-section-number">3.2.3</span> Plot the Summaries</h3>
<p>Again, the same function to create one plot is used to create many plots: <strong>plot_smry_comp()</strong>. Unlike last time, a helper function is needed to create multiple plots.</p>
<p>The helper function is called <strong>map</strong>. The map function takes two inputs: (1) a list of things to pass to a function, and (2) a function. Essentially, <strong>map</strong> takes each item in the list, and passes it to the function very efficiently.</p>
<p>In this case, you supply the list of summaries you just created, and the <strong>plot_sumry_comp()</strong> function. The code follows:</p>
<div class="sourceCode" id="cb86"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb86-1"><a href="comparative-overall-graphs.html#cb86-1" aria-hidden="true" tabindex="-1"></a><span class="fu">map</span>(</span>
<span id="cb86-2"><a href="comparative-overall-graphs.html#cb86-2" aria-hidden="true" tabindex="-1"></a>  comparative_summaries, <span class="co"># List of summaries</span></span>
<span id="cb86-3"><a href="comparative-overall-graphs.html#cb86-3" aria-hidden="true" tabindex="-1"></a>  plot_smry_comp         <span class="co"># Plotting function</span></span>
<span id="cb86-4"><a href="comparative-overall-graphs.html#cb86-4" aria-hidden="true" tabindex="-1"></a>)</span></code></pre></div>
<p>The code produces the following output:</p>
<div class="sourceCode" id="cb87"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb87-1"><a href="comparative-overall-graphs.html#cb87-1" aria-hidden="true" tabindex="-1"></a><span class="fu">map</span>(</span>
<span id="cb87-2"><a href="comparative-overall-graphs.html#cb87-2" aria-hidden="true" tabindex="-1"></a>  comparative_summaries, <span class="co"># List of summaries</span></span>
<span id="cb87-3"><a href="comparative-overall-graphs.html#cb87-3" aria-hidden="true" tabindex="-1"></a>  plot_smry_comp         <span class="co"># Plotting function</span></span>
<span id="cb87-4"><a href="comparative-overall-graphs.html#cb87-4" aria-hidden="true" tabindex="-1"></a>)</span></code></pre></div>
<pre><code>## $Q1COVID19</code></pre>
<pre><code>## 
## $Q2061A</code></pre>
<pre><code>## 
## $Q609</code></pre>
<p><img src="bookdownproj_files/figure-html/03.26-plots,%20figures-side-1.png" width="50%" /><img src="bookdownproj_files/figure-html/03.26-plots,%20figures-side-2.png" width="50%" /><img src="bookdownproj_files/figure-html/03.26-plots,%20figures-side-3.png" width="50%" /></p>
<p>Notice, yet again, the caption needs to be changed. To change the caption for all the graphs, just add one line to the map function.</p>
<div class="sourceCode" id="cb91"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb91-1"><a href="comparative-overall-graphs.html#cb91-1" aria-hidden="true" tabindex="-1"></a><span class="fu">map</span>(</span>
<span id="cb91-2"><a href="comparative-overall-graphs.html#cb91-2" aria-hidden="true" tabindex="-1"></a>  comparative_summaries,                          <span class="co"># List of summaries</span></span>
<span id="cb91-3"><a href="comparative-overall-graphs.html#cb91-3" aria-hidden="true" tabindex="-1"></a>  plot_smry_comp,                                 <span class="co"># Plotting function</span></span>
<span id="cb91-4"><a href="comparative-overall-graphs.html#cb91-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">.caption =</span> <span class="st">&quot;Arab Barometer Wave VI, Survey I&quot;</span>   <span class="co"># Caption</span></span>
<span id="cb91-5"><a href="comparative-overall-graphs.html#cb91-5" aria-hidden="true" tabindex="-1"></a>)</span></code></pre></div>
<pre><code>## $Q1COVID19</code></pre>
<pre><code>## 
## $Q2061A</code></pre>
<pre><code>## 
## $Q609</code></pre>
<p><img src="bookdownproj_files/figure-html/03.27-plots,%20figures-side-1.png" width="50%" /><img src="bookdownproj_files/figure-html/03.27-plots,%20figures-side-2.png" width="50%" /><img src="bookdownproj_files/figure-html/03.27-plots,%20figures-side-3.png" width="50%" /></p>
<p>Congratulations! You have created three plots at once. You can store them in as a single list and call them one at a time.</p>
<div class="sourceCode" id="cb95"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb95-1"><a href="comparative-overall-graphs.html#cb95-1" aria-hidden="true" tabindex="-1"></a>comparative_plots <span class="ot">&lt;-</span> <span class="fu">map</span>(</span>
<span id="cb95-2"><a href="comparative-overall-graphs.html#cb95-2" aria-hidden="true" tabindex="-1"></a>  comparative_summaries,                          <span class="co"># List of summaries</span></span>
<span id="cb95-3"><a href="comparative-overall-graphs.html#cb95-3" aria-hidden="true" tabindex="-1"></a>  plot_smry_comp,                                 <span class="co"># Plotting function</span></span>
<span id="cb95-4"><a href="comparative-overall-graphs.html#cb95-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">.caption =</span> <span class="st">&quot;Arab Barometer Wave VI, Survey I&quot;</span>   <span class="co"># Caption</span></span>
<span id="cb95-5"><a href="comparative-overall-graphs.html#cb95-5" aria-hidden="true" tabindex="-1"></a>)</span></code></pre></div>
<p>Now, all three plots have been stored in a named list named <code>comparative_summaries</code>. To look at the first plot:</p>
<div class="sourceCode" id="cb96"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb96-1"><a href="comparative-overall-graphs.html#cb96-1" aria-hidden="true" tabindex="-1"></a>comparative_plots<span class="sc">$</span>Q1COVID19</span></code></pre></div>
<p><img src="bookdownproj_files/figure-html/03.29-Complete-Code-Example-Results1-1.png" width="1248" /></p>
<p>To see the plot for variable <code>Q2061A</code>, run the following code:</p>
<div class="sourceCode" id="cb97"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb97-1"><a href="comparative-overall-graphs.html#cb97-1" aria-hidden="true" tabindex="-1"></a>comparative_plots<span class="sc">$</span>Q2061A</span></code></pre></div>
<p><img src="bookdownproj_files/figure-html/03.30-Complete-Code-Example-Results2-1.png" width="1248" /></p>
<p>Finally, to see the plot for variable <code>Q609</code>, run the following code:</p>
<div class="sourceCode" id="cb98"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb98-1"><a href="comparative-overall-graphs.html#cb98-1" aria-hidden="true" tabindex="-1"></a>comparative_plots<span class="sc">$</span>Q609</span></code></pre></div>
<p><img src="bookdownproj_files/figure-html/03.31-Complete-Code-Example-Results3-1.png" width="1248" /></p>
<p>You have now completed all steps in the example code. Congrats!</p>

</div>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="single-country-demographic-plots.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="coming-soon-comparative-demographic-graphs.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/Arab-Barometer/ArabBarometer_Graph_Guide/edit/master/03-Ignore4Now2.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": "https://github.com/Arab-Barometer/ArabBarometer_Graph_Guide/blob/master/03-Ignore4Now2.Rmd",
"text": null
},
"download": null,
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "subsection"
}
});
});
</script>

</body>

</html>
